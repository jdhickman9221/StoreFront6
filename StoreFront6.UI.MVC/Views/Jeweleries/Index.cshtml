@model IEnumerable<StoreFront6.DATA.EF.Jewelery>

@{
    ViewBag.Title = "Shop";
}

<h2>
    @ViewBag.Title

    @if (Request.IsAuthenticated && User.IsInRole("Admin"))
    {
        @Html.ActionLink("Create New", "Create")
    }

    <a href="@Url.Action("JeweleriesGrid", "Jeweleries")" class="pull-right btn btn-warning">Grid View</a>
</h2>

<table class="indexGrid">
    <tr>
        <th></th>
        <th>
            @*@Html.DisplayNameFor(model => model.ProductName)*@
        </th>

        @*<th>
                @Html.DisplayNameFor(model => model.ReleaseDate)
            </th>*@
        @*<th>
                @Html.DisplayNameFor(model => model.ProductImage)
            </th>*@
        <th>
            @*@Html.DisplayNameFor(model => model.Description)*@
        </th>
        @*<th>
                @Html.DisplayNameFor(model => model.SoldAsPair)
            </th>*@
        <th>
            @Html.DisplayNameFor(model => model.Price)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Fit.FitName)
        </th>
        @*<th>
                @Html.DisplayNameFor(model => model.InvStatu.InvName)
            </th>*@
        @*<th>
                @Html.DisplayNameFor(model => model.Material.MaterialName)
            </th>*@
        @*<th>
                @Html.DisplayNameFor(model => model.Supplier.CompanyName)
            </th>*@
        <th>
            @Html.DisplayNameFor(model => model.Type.TypeName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.UnitsSold)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                <a href="@Url.Action("Details", new {id=item.ProductID})" title="@item.ProductName">
                    <img src="~/Content/images/products/@item.ProductImage" alt="@item.ProductName" style="max-width:200px" />
                </a>
                @*@Html.DisplayFor(modelItem => item.ProductImage)*@
            </td>
            <td>
                <a href="@Url.Action("Details", new {id=item.ProductID})" title="@item.ProductName">
                    @Html.DisplayFor(modelItem => item.ProductName)
                </a>

            </td>

            @*<td>
                    @Html.DisplayFor(modelItem => item.ReleaseDate)
                </td>*@

            <td>
                @Html.DisplayFor(modelItem => item.Description)
            </td>
            @*<td>
                    @Html.DisplayFor(modelItem => item.SoldAsPair)
                </td>*@
            <td>
                @Html.DisplayFor(modelItem => item.Price)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Fit.FitName)
            </td>
            @*<td>
                    @Html.DisplayFor(modelItem => item.InvStatu.InvName)
                </td>*@
            @*<td>
                    @Html.DisplayFor(modelItem => item.Material.MaterialName)
                </td>*@
            @*<td>
                    @Html.DisplayFor(modelItem => item.Supplier.CompanyName)
                </td>*@
            <td>
                @Html.DisplayFor(modelItem => item.Type.TypeName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.UnitsSold)
            </td>
            @if (Request.IsAuthenticated && User.IsInRole("Admin"))
            {
                <td>
                    <div class="dropdown">
                        <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Manage<span class="caret"></span></button>
                        <ul class="dropdown-menu">
                            @if (item.InvID != 2)
                            {
                                <li>@Html.ActionLink("Sold Out", "Delete", new { id = item.ProductID })</li>
                                <li>@Html.ActionLink("Delete", "HardDelete", new { id = item.ProductID })</li>
                            }
                            else
                            {
                                <li>@Html.ActionLink("Restock", "Delete", new { id = item.ProductID })</li>
                            }
                        </ul>
                    </div>
                    @*@Html.ActionLink("Sold Out", "Delete", new { id = item.ProductID })
                        @Html.ActionLink("Delete", "HardDelete", new { id = item.ProductID })
                        @Html.ActionLink("Restock", "Delete", new { id = item.ProductID })*@
                </td>
            }
        </tr>
    }

</table>
